<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0045)http://www.ok-soft-gmbh.com/jqGrid/ipInfo.htm -->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Demonstration how use jsonReader</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

    <!-- link rel="stylesheet" type="text/css" href="../css/redmond/jquery-ui-1.9.1.custom.css"/ -->
    <link rel="stylesheet" type="text/css" href="../css/pepper-grinder/jquery-ui-1.9.1.custom.css"/>
    <link rel="stylesheet" type="text/css" href="../css/jqGrid-4.4.1/ui.jqgrid.css"/>
    <link rel="stylesheet" type="text/css" href="../css/jqGrid-4.4.1/ui.multiselect.css"/>
    <link rel="stylesheet" type="text/css" href="../css/jqGrid-4.4.1/searchFilter.css"/>
    <script type="text/javascript" src="../js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../js/jquery-ui-1.9.1.custom.min.js"></script>
    <script type="text/javascript" src="../js/jqGrid-4.4.1/ui.multiselect.js"></script>
    <script type="text/javascript" src="../js/jqGrid-4.4.1/i18n/grid.locale-en.js"></script>
    <script type="text/javascript" src="../js/jqGrid-4.4.1/jquery.jqGrid.min.js"></script>
    <script type="text/javascript" src="../js/jqGrid-4.4.1/jquery.searchFilter.js"></script>
    <script type="text/javascript" src="../js/json2.js"></script>

    <script type="text/javascript">
    //<![CDATA[
        jQuery(document).ready(function () {
            var curId = 0;
            jQuery("#dataTable").jqGrid({
                url:'./IpInfo.txt',
                datatype: 'json',
                mtype: 'GET',
                colNames:['StartIP', 'EndIP'],
                colModel :[
                    { name:'startIP', index:'startIP', width:55, align:'center' },
                    { name:'endIP', index:'endIP', width:55, align:'center' }
                ],
                jsonReader: {
                  root: 'ipInfo.ipResponses',
                  id: 'startIP',
                  repeatitems: false,
                  page:  function(obj) { return 1; },
                  total: function(obj) { return 1; },
                  records: function(obj) { return obj.ipInfo.ipResponses.length; },
                },
                height: "100%",
                width: 430,
                pager: '#dataTablePager',
                rowNum: 25,
                rowList: [25,50,100],
                sortname: 'startIP',
                sortorder: 'asc',
                viewrecords: true,
                caption: 'Data'
            });
        });
    //]]>
    </script>


</head>
<body>
<table id="dataTable">
  <tbody>
  <tr>
    <td></td>
  </tr>
  </tbody>
</table>
<div id="dataTablePager"></div>
</body>
</html>
